apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Gateway API routing
  - httproute.yaml
  # Secrets from Azure Key Vault
  - externalsecret.yaml
  # Network security policies
  - networkpolicies.yaml
  # Pod disruption budgets for HA
  - pdb.yaml
  # Blueprint ConfigMaps for Authentik provisioning
  - blueprints/blueprint-azure-ad.yaml
  - blueprints/blueprint-groups-users.yaml
  - blueprints/blueprint-grafana.yaml
  - blueprints/blueprint-espocrm.yaml
  - blueprints/blueprint-app-azure-mz.yaml
  - blueprints/blueprint-app-azure-cz.yaml

# Values are handled via Helm in ArgoCD ApplicationSet
# This kustomization manages additional resources
